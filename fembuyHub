local Rayfield = loadstring(game:HttpGet('https://sirius.menu/rayfield'))()

local Window = Rayfield:CreateWindow({
   Name = "Fembuy Hub",
   Icon = 93059603763570,
   LoadingTitle = "Loading Hub",
   LoadingSubtitle = "by Manuel",
   Theme = "Default",
   ToggleUIKeybind = "K",
   ConfigurationSaving = {
      Enabled = true,
      FileName = "Fembuy Hub"
   },
   Discord = {
      Enabled = false,
      Invite = "noinvitelink",
      RememberJoins = true
   },
   KeySystem = true,
   KeySettings = {
      Title = "Fembuy Hub",
      Subtitle = "Enter the key to proceed",
      Note = "Ask Manuel",
      FileName = "Key",
      SaveKey = true,
      Key = {"ilovefemboys"}
   }
})

Rayfield:Notify({
   Title = "Successful Execution",
   Content = "Fembuy Hub has loaded correctly.",
   Duration = 6.5,
   Image = 4483362458,
})

-- Script Toggles
local toggles = {
   InfYield = false,
   Invis = false,
   Phantasm = false,
   TSBExtra = false,
   Garden = false,
   LockPlayers = false
}

local offsetDistance = 10 -- Default distance in studs in front of the player

-- Function: Teleport all players in front of local player and lock
local function teleportAndLockPlayers()
    local localPlayer = game.Players.LocalPlayer
    local character = localPlayer.Character
    if not character or not character:FindFirstChild("HumanoidRootPart") then return end

    local root = character.HumanoidRootPart
    local targetPos = root.Position + (root.CFrame.LookVector * offsetDistance)

    for _, player in pairs(game.Players:GetPlayers()) do
        if player ~= localPlayer and player.Character and player.Character:FindFirstChild("HumanoidRootPart") then
            local part = player.Character.HumanoidRootPart
            part.CFrame = CFrame.new(targetPos)
            part.Position = targetPos
        end
    end
end

-- Run teleport lock loop
task.spawn(function()
    while true do
        if toggles.LockPlayers then
            teleportAndLockPlayers()
        end
        task.wait(0.1)
    end
end)

-- Home Tab
local HomeTab = Window:CreateTab("Home", 17205450457)

HomeTab:CreateButton({
   Name = "Infinite Yield",
   Callback = function()
      if not toggles.InfYield then
         toggles.InfYield = true
         getgenv().infYield = loadstring(game:HttpGet("https://cdn.wearedevs.net/scripts/Infinite%20Yield.txt"))()
      else
         Rayfield:Notify({
            Title = "Already Loaded",
            Content = "Rejoin to disable Infinite Yield.",
            Duration = 4
         })
      end
   end,
})

HomeTab:CreateButton({
   Name = "Lock All Players In Front of You",
   Callback = function()
      toggles.LockPlayers = not toggles.LockPlayers

      Rayfield:Notify({
         Title = toggles.LockPlayers and "Lock Enabled" or "Lock Disabled",
         Content = toggles.LockPlayers and "All players are now stuck in front of you." or "They can now move freely.",
         Duration = 5
      })
   end,
})

-- Player Tab
local PlayerTab = Window:CreateTab("Player", 17205450457)

PlayerTab:CreateButton({
   Name = "Invisible Script",
   Callback = function()
      if not toggles.Invis then
         toggles.Invis = true
         loadstring(game:HttpGet('https://pastebin.com/raw/3Rnd9rHf'))()
      end
   end,
})

local currentSpeed = 16
PlayerTab:CreateSlider({
   Name = "Walk Speed",
   Range = {0, 100},
   Increment = 1,
   Suffix = "Speed",
   CurrentValue = currentSpeed,
   Callback = function(Value)
      currentSpeed = Value
   end,
})

-- Maintain walk speed
task.spawn(function()
   while true do
      local plr = game.Players.LocalPlayer
      if plr and plr.Character and plr.Character:FindFirstChild("Humanoid") then
         plr.Character.Humanoid.WalkSpeed = currentSpeed
      end
      task.wait(0.2)
   end
end)

-- TSB Tab
local TSBTab = Window:CreateTab("TSB", 17205450457)

TSBTab:CreateButton({
   Name = "Phantasm Hub",
   Callback = function()
      if not toggles.Phantasm then
         toggles.Phantasm = true
         loadstring(game:HttpGet("https://raw.githubusercontent.com/ATrainz/Phantasm/main/Games/TSB.lua"))()
      end
   end,
})

TSBTab:CreateButton({
   Name = "Extra TSB Script",
   Callback = function()
      if not toggles.TSBExtra then
         toggles.TSBExtra = true
         loadstring(game:HttpGet("https://raw.githubusercontent.com/ATrainz/Phantasm/main/Games/TSB.lua"))()
      end
   end,
})

-- Garden Tab
local GardenTab = Window:CreateTab("Grow a Garden", 17205450457)

GardenTab:CreateButton({
   Name = "Garden Script",
   Callback = function()
      if not toggles.Garden then
         toggles.Garden = true
         loadstring(game:HttpGet("https://raw.githubusercontent.com/tesghg/Grow-a-Garden/main/ameicaa_Grow_A_Garden.lua"))()
      end
   end,
})
